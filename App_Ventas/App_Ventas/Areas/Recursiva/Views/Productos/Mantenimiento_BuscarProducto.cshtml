@model App_Ventas.Areas.Recursiva.Models.ProductoModelView

<script>
    $(document).ready(function () {

    });
    // al cerrar el modal hijo el padre sigue con la clase modal open. 
    $(document).on('hidden.bs.modal', '.modal', function () {
        $('.modal:visible').length && $(document.body).addClass('modal-open');
    });
    $('#Sucursal_Btn_Guardar').click(function () {
        Sucursal_Ingresar();
    });
    $('#Btn_CerrarModal').click(function () {
        $('#myModalBuscarProduc').modal('hide');
    });

    $(function () {
        $(".modal-content").draggable();
    });
</script>
<style>
    #modal-dialog_this {
        margin: 130px auto;
    }
    #modal-header_this {
        background: #2c7be5 !important;
    }

</style>

<div class="modal-dialog" role="document" id="modal-dialog_this">
    <div class="modal-content" >
        <div class="modal-header" id="modal-header_this">
            <h5 class="modal-title"><i class="bi bi-search"></i>&nbsp; Buscar producto</h5>
       @*     <button type="button" class="close" data-dismiss="modal">
                <span>&times;</span>
            </button>*@
        </div>
        <div class="modal-body">
            @using (Html.BeginForm("Cargo", "Cargo", new { @area = "Administracion" }, FormMethod.Post, new { @id = "frmMantenimiento_BuscarProducto", @class = "form-horizontal" }))
            {
                @Html.ValidationSummary(true)
                <div class="form-row">
                    <div class="form-group col-md-12">
                        @Html.LabelFor(model => model.SEARCH_PRODUCTO)
                        <div class="input-group mb-12 ">
                            @Html.TextBoxFor(model => model.SEARCH_PRODUCTO, new { @class = "form-control", @maxlength = "200", @aucomplete = "off", @placeholder = "Ingrese descripción o código de producto..." })
                            <div class="input-group-append  btn-hover-shine waves-effect waves-light">
                                <span class="input-group-text"><i class="bi bi-search" style="color: #404040;"></i></span>
                            </div>
                        </div>
                    </div>


                       <div class="form-group col-md-6">
                        @Html.LabelFor(model => model.COD_PRODUCTO)
                        @Html.TextBoxFor(model => model.COD_PRODUCTO, new { @class = "form-control", @maxlength = "200" ,@aucomplete="off"  })
                        @Html.ValidationMessageFor(model => model.COD_PRODUCTO, string.Empty, new { @class = "cssMessageError animated  fadeInUp" })
                    </div>
                    <div class="form-group col-md-6">
                        @Html.LabelFor(model => model.ID_UNIDAD_MEDIDA)
                        @Html.DropDownListFor(model => model.ID_UNIDAD_MEDIDA, Model.Lista_Unidad_Medida, new { @class = "form-control", @maxlength = "150", @style = "width:100%" })
                        @Html.ValidationMessageFor(model => model.ID_UNIDAD_MEDIDA, string.Empty, new { @class = "cssMessageError animated  fadeInUp" })
                    </div>

                    <div class="form-group col-md-6">
                        @Html.LabelFor(model => model.PRECIO_VENTA)
                        @Html.TextBoxFor(model => model.PRECIO_VENTA, new { @class = "form-control", @maxlength = "100" ,@aucomplete="off"  })
                        @Html.ValidationMessageFor(model => model.PRECIO_VENTA, string.Empty, new { @class = "cssMessageError animated  fadeInUp" })
                    </div>

                    <div class="form-group col-md-6">
                        @Html.LabelFor(model => model.CANTIDAD)
                        @Html.TextBoxFor(model => model.CANTIDAD, new { @class = "form-control", @maxlength = "100" ,@aucomplete="off"  })
                        @Html.ValidationMessageFor(model => model.CANTIDAD, string.Empty, new { @class = "cssMessageError animated  fadeInUp" })
                    </div>

                    <div class="form-group col-md-6">
                        @Html.LabelFor(model => model.DETALLE)
                         @Html.TextBoxFor(model => model.DETALLE, new { @class = "form-control", @maxlength = "100" ,@aucomplete="off"  })
                        @Html.ValidationMessageFor(model => model.DETALLE, string.Empty, new { @class = "cssMessageError animated  fadeInUp" })
                    </div>


                </div>
            }


        </div>
        <div class="modal-footer">
            <button type="button" id="Sucursal_Btn_Guardar" class="btn btn-hover-shine btn-square btn-primary"><i class="bi bi-basket"></i>&nbsp; Agregar Producto</button>
            <button type="button" class="btn  btn-square btn-dark" id="Btn_CerrarModal">Cancelar</button>
        </div>
    </div>
</div>

@Html.Hidden("hfd_ID_SUCURSAL", Model.ID_SUCURSAL)
@Html.Hidden("hdf_Grilla", Model.GrillaCarga)