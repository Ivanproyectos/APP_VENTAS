CREATE TABLE SEG_M_USUARIO (
  ID_USUARIO NUMERIC(20,0) PRIMARY KEY IDENTITY(1,1),
  NOMBRE VARCHAR(200), 
  APE_PATERNO VARCHAR(200), 
  APE_MATERNO VARCHAR(200), 
  DNI VARCHAR(20), 
  ID_TIPO_DOCUMENTO INT, 
  CELULAR VARCHAR(10),
  TELEFONO VARCHAR(7), 
  CORREO VARCHAR(200), 
  FLG_ESTADO INT DEFAULT 1,
  USU_CREACION VARCHAR(100),
  FEC_CREACION DATETIME  DEFAULT getdate(),
  USU_MODIFICACION VARCHAR(100), 
  FEC_MODIFICACION VARCHAR(100),
  COD_USUARIO [varchar](150) NOT NULL,
  CLAVE_USUARIO [varchar](150) NULL ,
  CONSTRAINT FK_PERSONAL_TIPODOCUMENTO FOREIGN KEY(ID_TIPO_DOCUMENTO) REFERENCES T_M_TIPO_DOCUMENTO(ID_TIPO_DOCUMENTO)

)




CREATE TABLE T_M_TIPO_DOCUMENTO(
  ID_TIPO_DOCUMENTO INT PRIMARY KEY IDENTITY(1,1),
  DESC_TIPO_DOCUMENTO VARCHAR(200), 
  FLG_ESTADO INT, 
  USU_CREACION VARCHAR(200),
  FEC_CREACION DATETIME
)



CREATE TABLE [dbo].[SEG_M_TIPO_RECURSO](
	[ID_TIPORECURSO] [numeric](20, 0) NOT NULL,
	[COD_TIPORECURSO] [varchar](200) NOT NULL,
	[NOM_TIPORECURSO] [varchar](200) NULL,
	[DESC_TIPORECURSO] [varchar](200) NULL,
	[FEC_ACTIV_TIPORECURSO] [date] NULL,
	[FEC_DESCACTIV_TIPORECURSO] [date] NULL,
	[FLG_ESTADO] [int] NULL DEFAULT 1,
	[USU_CREACION] [varchar](50) NULL,
	[FEC_CREACION] [datetime]   DEFAULT getdate(),
	[USU_MODIFICACION] [varchar](50) NULL,
	[FEC_MODIFICACION] [datetime] NULL
	) 


CREATE TABLE [dbo].[SEG_D_MODULO](
	[ID_SISTEMA_MODULO] [numeric](20, 0) PRIMARY KEY IDENTITY(1,1) NOT NULL,
	[ID_TIPO_MODULO] [numeric](20, 0) NOT NULL,
	[ID_SISTEMA_MODULO_PADRE] [numeric](20, 0) NULL,
	[ID_A] [varchar](200) NULL,
	[ID_LI] [varchar](200) NULL,
	[IMAGEN] [varchar](200) NULL,
	[URL_MODULO] [varchar](500) NULL,
	[DESC_MODULO] [varchar](200) NULL,
	[ORDEN] [int] NULL,
	[NIVEL] [int] NULL,
	[FLG_ESTADO] [int] NULL  DEFAULT ((1)),
	[USU_CREACION] [varchar](50) NULL,
	[FEC_CREACION] [datetime] NULL DEFAULT getdate(),
	[IP_CREACION] [varchar](50) NULL,
	[USU_MODIFICACION] [varchar](50) NULL,
	[FEC_MODIFICACION] [datetime] NULL,
	[IP_MODIFICACION] [varchar](50) NULL,
	[FLG_LINK] [int] NULL  DEFAULT (0), 
	CONSTRAINT FK_MODULO_TIPORECURSO FOREIGN KEY(ID_TIPO_MODULO) REFERENCES SEG_M_TIPO_RECURSO(ID_TIPORECURSO) 
) 




CREATE TABLE [dbo].[SEG_D_PERFIL_MODULO](
	[ID_SISTEMAS_PERFIL_MODULO] [numeric](20, 0) PRIMARY KEY IDENTITY(1,1) NOT NULL,
	[ID_PERFIL] [numeric](20, 0) NOT NULL,
	[ID_MODULO] [numeric](20, 0) NOT NULL,
	[FLG_ESTADO] [int] NULL  DEFAULT 1,
	[USU_CREACION] [varchar](50) NULL,
	[FEC_CREACION] [datetime] NULL,
	[IP_CREACION] [varchar](50) NULL,
	[USU_MODIFICACION] [varchar](50) NULL,
	[FEC_MODIFICACION] [datetime] NULL,
	[IP_MODIFICACION] [varchar](50) NULL,

  CONSTRAINT FK_PERFILMODULO_ID_MODULO FOREIGN KEY(ID_MODULO) REFERENCES SEG_D_MODULO(ID_SISTEMA_MODULO),
  CONSTRAINT FK_PERFILMODULO_ID_PERFIL FOREIGN KEY(ID_PERFIL) REFERENCES SEG_M_PERFIL(ID_PERFIL)
)


CREATE TABLE [dbo].[SEG_M_PERFIL](
	[ID_PERFIL] [numeric](20, 0) PRIMARY KEY IDENTITY(1,1) NOT NULL,
	[DESC_PERFIL] [varchar](150) NOT NULL,
	[FLG_COMBO] [int] NULL,
	[FLG_ESTADO] [char](1) NULL  DEFAULT (1),
	[USU_CREACION] [varchar](50) NULL,
	[FEC_CREACION] [datetime] NULL  DEFAULT getdate(),
	[USU_MODIFICACION] [varchar](50) NULL,
	[FEC_MODIFICACION] [datetime] NULL
) 


CREATE TABLE [dbo].[SEG_R_USUARIO_PERFIL](
	[ID_USUARIO_PERFIL] [numeric](20, 0) primary key IDENTITY(1,1) NOT NULL,
	[ID_SUCURSAL] [numeric](20, 0) NULL,
	[ID_USUARIO] [numeric](20, 0) NULL,
	[ID_PERFIL] [numeric](20, 0) NULL,
	[FEC_ACTIVACION] [datetime] NULL,
	[FEC_DESACTIVACION] [datetime] NULL,
	[FLG_ESTADO] [int] NULL  DEFAULT ((1)),
	[USU_CREACION] [varchar](50) NULL,
	[FEC_CREACION] [datetime] NULL DEFAULT (getdate()),
	[USU_MODIFICACION] [varchar](50) NULL,
	[FEC_MODIFICACION] [datetime] NULL,
	  CONSTRAINT FK_USU_PERFIL_ID_SUCURSAL FOREIGN KEY(ID_SUCURSAL) REFERENCES T_M_SUCURSAL(ID_SUCURSAL),
     CONSTRAINT FK_USU_PERFIL_ID_PERFIL FOREIGN KEY(ID_PERFIL) REFERENCES SEG_M_PERFIL(ID_PERFIL),
	 CONSTRAINT FK_USU_PERFIL_ID_USUARIO FOREIGN KEY(ID_USUARIO) REFERENCES SEG_M_USUARIO(ID_USUARIO),

)

CREATE TABLE [dbo].[T_M_SUCURSAL](
	[ID_SUCURSAL] [numeric](20, 0) primary key IDENTITY(1,1) NOT NULL,
	[DESC_SUCURSAL] VARCHAR(500) NULL,
	[DIRECCION] VARCHAR(500) NULL,
	TELEFONO   VARCHAR(7) NULL,
	CORREO  VARCHAR(200)  NULL,
	URBANIZACION  VARCHAR(200)  NULL,
	COD_UBIGEO  VARCHAR(100)  NULL,
	[FLG_ESTADO] [int] NULL  DEFAULT ((1)),
	[USU_CREACION] [varchar](50) NULL,
	[FEC_CREACION] [datetime] NULL DEFAULT (getdate()),
	[USU_MODIFICACION] [varchar](50) NULL,
	[FEC_MODIFICACION] [datetime] NULL,
)

CREATE TABLE T_M_CONFIGURACION(
	ID_CONFIGURACION INT PRIMARY KEY IDENTITY(1,1), 
	RUC VARCHAR(11) NOT NULL, 
	RAZON_SOCIAL VARCHAR(200), 
	NOMBRE_COMERCIAL VARCHAR(200), 
	URBANIZACION VARCHAR(300), 
	DIRECCION_FISCAL VARCHAR(200), 
	COD_UBIGEO VARCHAR(100), 
	TELEFONO VARCHAR(7),
	NOMBRE_IMPUESTO VARCHAR(100), 
	IMPUESTO DECIMAL(18,2),
	FLG_IMPRIMIR INT DEFAULT(0),
	FLG_IMPUESTO INT DEFAULT(0)
) 
